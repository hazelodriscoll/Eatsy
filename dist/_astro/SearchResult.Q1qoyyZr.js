import{S as Ve,i as qe,s as Me,b as f,h as q,t as Q,f as _,j as S,d as b,l as M,k as z,g as H,p as ce,m as u,a as se,q as s,v as ne,r as te,n as le,H as X,I as Ae,J as Oe,y as de,z as Fe,x as ie,C as Ue,c as $,o as Be,B as xe,w as ee,K as Ge,u as Qe,D as ze,E as Le,F as je,G as He}from"./index.BuHMzDZZ.js";import{e as Te}from"./each.-gASlQSi.js";import{s as Ke}from"./recipieService.C7CLvpRB.js";import{s as Je,a as We}from"./store.C6_h0ET5.js";async function Xe(l,t=0,a=null){const e={apiKey:"fb571eb0a36b417daee401017d390f99",query:l,addRecipeInstructions:!0,addRecipeNutrition:!0,number:10,offset:t};a&&(e.diet=a);try{return await Ke(e)}catch(c){throw console.error("Failed to fetch search results:",c),new Error("Failed to fetch search results.")}}function Ye(l){let t,a,e,c,d,y,k,v,F=l[0].title+"",C,U,p,I,g,N,E,D,P=l[0].readyInMinutes+"",R,L,w,n,r,i,h,o,j="Servings:",O,G,m=l[0].servings+"",V,x,T,Y,Ce,ve,Z,Ee="Recipe by:",me,K,oe=l[0].sourceName+"",fe,_e,ge,J,Ie="View Full Recipie",be,Pe;return{c(){t=f("div"),a=f("div"),e=f("img"),y=q(),k=f("div"),v=f("h5"),C=Q(F),U=q(),p=f("div"),I=f("div"),g=f("img"),E=q(),D=f("span"),R=Q(P),L=Q(" mins"),w=q(),n=f("div"),r=f("img"),h=q(),o=f("span"),o.textContent=j,O=q(),G=f("span"),V=Q(m),x=q(),T=f("div"),Y=f("img"),ve=q(),Z=f("span"),Z.textContent=Ee,me=q(),K=f("a"),fe=Q(oe),ge=q(),J=f("button"),J.textContent=Ie,this.h()},l(B){t=_(B,"DIV",{class:!0});var A=S(t);a=_(A,"DIV",{class:!0});var Se=S(a);e=_(Se,"IMG",{src:!0,class:!0,alt:!0}),Se.forEach(b),y=M(A),k=_(A,"DIV",{class:!0});var he=S(k);v=_(he,"H5",{class:!0});var Ne=S(v);C=z(Ne,F),Ne.forEach(b),U=M(he),p=_(he,"DIV",{class:!0});var W=S(p);I=_(W,"DIV",{class:!0});var pe=S(I);g=_(pe,"IMG",{src:!0,alt:!0,class:!0}),E=M(pe),D=_(pe,"SPAN",{});var ye=S(D);R=z(ye,P),L=z(ye," mins"),ye.forEach(b),pe.forEach(b),w=M(W),n=_(W,"DIV",{class:!0});var ae=S(n);r=_(ae,"IMG",{src:!0,alt:!0,class:!0}),h=M(ae),o=_(ae,"SPAN",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-1bdf15t"&&(o.textContent=j),O=M(ae),G=_(ae,"SPAN",{class:!0});var ke=S(G);V=z(ke,m),ke.forEach(b),ae.forEach(b),x=M(W),T=_(W,"DIV",{class:!0});var re=S(T);Y=_(re,"IMG",{src:!0,alt:!0,class:!0}),ve=M(re),Z=_(re,"SPAN",{class:!0,"data-svelte-h":!0}),H(Z)!=="svelte-1m28vzp"&&(Z.textContent=Ee),me=M(re),K=_(re,"A",{href:!0,target:!0,class:!0});var Re=S(K);fe=z(Re,oe),Re.forEach(b),re.forEach(b),ge=M(W),J=_(W,"BUTTON",{class:!0,"data-svelte-h":!0}),H(J)!=="svelte-15fnxty"&&(J.textContent=Ie),W.forEach(b),he.forEach(b),A.forEach(b),this.h()},h(){ce(e.src,c=l[0].image)||u(e,"src",c),u(e,"class","img-fluid sr-custom-rounded sr-card-img-top"),u(e,"alt",d=l[0].title),u(a,"class","sr-card-image"),u(v,"class","sr-card-title"),ce(g.src,N="/Eatsy/images/time-icon.png")||u(g,"src",N),u(g,"alt","Time"),u(g,"class","sr-detail-icon"),u(I,"class","sr-detail-item"),ce(r.src,i="/Eatsy/images/servings-icon.png")||u(r,"src",i),u(r,"alt","Servings"),u(r,"class","sr-detail-icon"),u(o,"class","sr-detail-name"),u(G,"class","sr-detail-info"),u(n,"class","sr-detail-item"),ce(Y.src,Ce="/Eatsy/images/recipie-by-icon.png")||u(Y,"src",Ce),u(Y,"alt","Recipe by"),u(Y,"class","sr-detail-icon"),u(Z,"class","sr-detail-name"),u(K,"href",_e=l[0].spoonacularSourceUrl),u(K,"target","_blank"),u(K,"class","sr-detail-info"),u(T,"class","sr-detail-item"),u(J,"class","btn btn-primary"),u(p,"class","sr-recipe-details"),u(k,"class","sr-card-body"),u(t,"class","sr-card")},m(B,A){se(B,t,A),s(t,a),s(a,e),s(t,y),s(t,k),s(k,v),s(v,C),s(k,U),s(k,p),s(p,I),s(I,g),s(I,E),s(I,D),s(D,R),s(D,L),s(p,w),s(p,n),s(n,r),s(n,h),s(n,o),s(n,O),s(n,G),s(G,V),s(p,x),s(p,T),s(T,Y),s(T,ve),s(T,Z),s(T,me),s(T,K),s(K,fe),s(p,ge),s(p,J),be||(Pe=ne(J,"click",l[2]),be=!0)},p(B,[A]){A&1&&!ce(e.src,c=B[0].image)&&u(e,"src",c),A&1&&d!==(d=B[0].title)&&u(e,"alt",d),A&1&&F!==(F=B[0].title+"")&&te(C,F),A&1&&P!==(P=B[0].readyInMinutes+"")&&te(R,P),A&1&&m!==(m=B[0].servings+"")&&te(V,m),A&1&&oe!==(oe=B[0].sourceName+"")&&te(fe,oe),A&1&&_e!==(_e=B[0].spoonacularSourceUrl)&&u(K,"href",_e)},i:le,o:le,d(B){B&&b(t),be=!1,Pe()}}}function Ze(l,t,a){let{recipie:e}=t;const c=y=>{Je(y),window.location.href="/Eatsy/instructions"},d=()=>c(e);return l.$$set=y=>{"recipie"in y&&a(0,e=y.recipie)},[e,c,d]}class $e extends Ve{constructor(t){super(),qe(this,t,Ze,Ye,Me,{recipie:0})}}function De(l,t,a){const e=l.slice();return e[20]=t[a],e}function et(l){let t,a,e,c,d,y,k,v,F,C,U,p=Math.ceil(l[6]/ue)+"",I,g,N,E,D,P,R,L,w=Te(l[5]),n=[];for(let i=0;i<w.length;i+=1)n[i]=we(De(l,w,i));const r=i=>de(n[i],1,1,()=>{n[i]=null});return{c(){t=f("ul");for(let i=0;i<n.length;i+=1)n[i].c();a=q(),e=f("div"),c=f("button"),d=Q("Previous"),k=q(),v=f("span"),F=Q("Page "),C=Q(l[1]),U=Q(" of "),I=Q(p),g=q(),N=f("button"),E=Q("Next"),this.h()},l(i){t=_(i,"UL",{});var h=S(t);for(let m=0;m<n.length;m+=1)n[m].l(h);h.forEach(b),a=M(i),e=_(i,"DIV",{class:!0});var o=S(e);c=_(o,"BUTTON",{class:!0});var j=S(c);d=z(j,"Previous"),j.forEach(b),k=M(o),v=_(o,"SPAN",{});var O=S(v);F=z(O,"Page "),C=z(O,l[1]),U=z(O," of "),I=z(O,p),O.forEach(b),g=M(o),N=_(o,"BUTTON",{class:!0});var G=S(N);E=z(G,"Next"),G.forEach(b),o.forEach(b),this.h()},h(){u(c,"class","btn btn-primary"),c.disabled=y=l[1]===1,u(N,"class","btn btn-primary"),N.disabled=D=l[1]===Math.ceil(l[6]/ue),u(e,"class","pagination-controls")},m(i,h){se(i,t,h);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null);se(i,a,h),se(i,e,h),s(e,c),s(c,d),s(e,k),s(e,v),s(v,F),s(v,C),s(v,U),s(v,I),s(e,g),s(e,N),s(N,E),P=!0,R||(L=[ne(c,"click",l[16]),ne(N,"click",l[15])],R=!0)},p(i,h){if(h&32){w=Te(i[5]);let o;for(o=0;o<w.length;o+=1){const j=De(i,w,o);n[o]?(n[o].p(j,h),ie(n[o],1)):(n[o]=we(j),n[o].c(),ie(n[o],1),n[o].m(t,null))}for(xe(),o=w.length;o<n.length;o+=1)r(o);Fe()}(!P||h&2&&y!==(y=i[1]===1))&&(c.disabled=y),(!P||h&2)&&te(C,i[1]),(!P||h&64)&&p!==(p=Math.ceil(i[6]/ue)+"")&&te(I,p),(!P||h&66&&D!==(D=i[1]===Math.ceil(i[6]/ue)))&&(N.disabled=D)},i(i){if(!P){for(let h=0;h<w.length;h+=1)ie(n[h]);P=!0}},o(i){n=n.filter(Boolean);for(let h=0;h<n.length;h+=1)de(n[h]);P=!1},d(i){i&&(b(t),b(a),b(e)),Qe(n,i),R=!1,Ue(L)}}}function tt(l){let t,a;return{c(){t=f("p"),a=Q(l[4])},l(e){t=_(e,"P",{});var c=S(t);a=z(c,l[4]),c.forEach(b)},m(e,c){se(e,t,c),s(t,a)},p(e,c){c&16&&te(a,e[4])},i:le,o:le,d(e){e&&b(t)}}}function st(l){let t,a="Loading...";return{c(){t=f("p"),t.textContent=a},l(e){t=_(e,"P",{"data-svelte-h":!0}),H(t)!=="svelte-qdsr2u"&&(t.textContent=a)},m(e,c){se(e,t,c)},p:le,i:le,o:le,d(e){e&&b(t)}}}function we(l){let t,a;return t=new $e({props:{recipie:l[20]}}),{c(){ze(t.$$.fragment)},l(e){Le(t.$$.fragment,e)},m(e,c){je(t,e,c),a=!0},p(e,c){const d={};c&32&&(d.recipie=e[20]),t.$set(d)},i(e){a||(ie(t.$$.fragment,e),a=!0)},o(e){de(t.$$.fragment,e),a=!1},d(e){He(t,e)}}}function lt(l){let t,a,e,c,d,y,k="All Diets",v,F="Vegetarian",C,U="Pescetarian",p,I="Vegan",g,N="Gluten Free",E,D="Dairy Free",P,R,L="Search",w,n,r,i,h,o;const j=[st,tt,et],O=[];function G(m,V){return m[3]?0:m[4]?1:2}return n=G(l),r=O[n]=j[n](l),{c(){t=f("div"),a=f("form"),e=f("input"),c=q(),d=f("select"),y=f("option"),y.textContent=k,v=f("option"),v.textContent=F,C=f("option"),C.textContent=U,p=f("option"),p.textContent=I,g=f("option"),g.textContent=N,E=f("option"),E.textContent=D,P=q(),R=f("button"),R.textContent=L,w=q(),r.c(),this.h()},l(m){t=_(m,"DIV",{});var V=S(t);a=_(V,"FORM",{class:!0,id:!0});var x=S(a);e=_(x,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),c=M(x),d=_(x,"SELECT",{id:!0});var T=S(d);y=_(T,"OPTION",{"data-svelte-h":!0}),H(y)!=="svelte-sr79r4"&&(y.textContent=k),v=_(T,"OPTION",{"data-svelte-h":!0}),H(v)!=="svelte-ulsu0e"&&(v.textContent=F),C=_(T,"OPTION",{"data-svelte-h":!0}),H(C)!=="svelte-eedb8o"&&(C.textContent=U),p=_(T,"OPTION",{"data-svelte-h":!0}),H(p)!=="svelte-fp8qew"&&(p.textContent=I),g=_(T,"OPTION",{"data-svelte-h":!0}),H(g)!=="svelte-46gz6o"&&(g.textContent=N),E=_(T,"OPTION",{"data-svelte-h":!0}),H(E)!=="svelte-i4jo22"&&(E.textContent=D),T.forEach(b),P=M(x),R=_(x,"BUTTON",{type:!0,"data-svelte-h":!0}),H(R)!=="svelte-144da9z"&&(R.textContent=L),x.forEach(b),w=M(V),r.l(V),V.forEach(b),this.h()},h(){u(e,"class","form-control me-2"),u(e,"type","text"),u(e,"id","searchQuery"),u(e,"placeholder","Search recipes..."),y.__value="",X(y,y.__value),v.__value="vegetarian",X(v,v.__value),C.__value="pescetarian",X(C,C.__value),p.__value="vegan",X(p,p.__value),g.__value="gluten free",X(g,g.__value),E.__value="dairy free",X(E,E.__value),u(d,"id","dietFilter"),l[0]===void 0&&Ae(()=>l[18].call(d)),u(R,"type","submit"),u(a,"class","d-flex"),u(a,"id","searchForm")},m(m,V){se(m,t,V),s(t,a),s(a,e),X(e,l[2]),s(a,c),s(a,d),s(d,y),s(d,v),s(d,C),s(d,p),s(d,g),s(d,E),Oe(d,l[0],!0),s(a,P),s(a,R),s(t,w),O[n].m(t,null),i=!0,h||(o=[ne(e,"input",l[17]),ne(d,"change",l[18]),ne(a,"submit",l[14])],h=!0)},p(m,[V]){V&4&&e.value!==m[2]&&X(e,m[2]),V&1&&Oe(d,m[0]);let x=n;n=G(m),n===x?O[n].p(m,V):(xe(),de(O[x],1,1,()=>{O[x]=null}),Fe(),r=O[n],r?r.p(m,V):(r=O[n]=j[n](m),r.c()),ie(r,1),r.m(t,null))},i(m){i||(ie(r),i=!0)},o(m){de(r),i=!1},d(m){m&&b(t),O[n].d(),h=!1,Ue(o)}}}const ue=10;function at(l,t,a){let e,c,d,y,k,v,F,C=ee([]);$(l,C,r=>a(5,v=r));let U=ee("");$(l,U,r=>a(2,d=r));let p=ee(!1);$(l,p,r=>a(3,y=r));let I=ee("");$(l,I,r=>a(4,k=r));let g=ee(1);$(l,g,r=>a(1,c=r));let N=ee(0);$(l,N,r=>a(6,F=r));let E=ee("");$(l,E,r=>a(0,e=r)),Be(async()=>{if(typeof window<"u"&&typeof localStorage<"u"){console.log("Running in the browser");const r=localStorage.getItem("searchQuery");console.log("Stored query:",r),r&&U.set(r)}});async function D(r,i,h){p.set(!0),I.set("");try{const o=await Xe(r,i,h);C.set(o.results),N.set(o.totalResults)}catch{I.set("Failed to fetch search results."),C.set([])}finally{p.set(!1)}}function P(r){r.preventDefault();const i=r.target.querySelector("#searchQuery").value,h=r.target.querySelector("#dietFilter").value;i&&(We.set(i),localStorage.setItem("searchQuery",i),E.set(h),D(i,0,h),g.set(1))}function R(){g.update(r=>r+1)}function L(){g.update(r=>r>1?r-1:r)}function w(){d=this.value,U.set(d)}function n(){e=Ge(this),E.set(e)}return l.$$.update=()=>{l.$$.dirty&7&&d&&D(d,(c-1)*ue,e)},[e,c,d,y,k,v,F,C,U,p,I,g,N,E,P,R,L,w,n]}class ct extends Ve{constructor(t){super(),qe(this,t,at,lt,Me,{})}}export{ct as default};
