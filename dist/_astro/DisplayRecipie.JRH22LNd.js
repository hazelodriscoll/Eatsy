import{S as He,i as Le,s as qe,e as m,c as v,b as V,d as f,j as k,x as ue,D as Ae,E as Oe,C as Be,w as Q,t as M,a as F,g as T,f as R,h,F as te,k as a,l as Je,o as B,q as le,u as Y}from"./index.BXI5Iv19.js";import{e as A}from"./each.-gASlQSi.js";const de="favourites",_e=()=>{const o=localStorage.getItem(de);return o?JSON.parse(o):[]},Ge=o=>{const e=_e();e.find(i=>i.id===o.id)||(e.push(o),localStorage.setItem(de,JSON.stringify(e)))},Pe=o=>{let e=_e();e=e.filter(i=>i.id!==o),localStorage.setItem(de,JSON.stringify(e))},ze=o=>_e().some(i=>i.id===o);function ke(o,e,i){const t=o.slice();return t[6]=e[i],t}function Ee(o,e,i){const t=o.slice();return t[9]=e[i],t}function ye(o,e,i){const t=o.slice();return t[12]=e[i],t}function Se(o,e,i){const t=o.slice();return t[12]=e[i],t}function Ue(o){let e,i="Recipe not found.";return{c(){e=m("p"),e.textContent=i},l(t){e=v(t,"P",{"data-svelte-h":!0}),Q(e)!=="svelte-1vhb4mb"&&(e.textContent=i)},m(t,l){k(t,e,l)},p:ue,d(t){t&&f(e)}}}function je(o){let e,i,t,l,s=o[3].title+"",n,_,S,u,c,d,p,ie,q,N,J,he="Ingredients",ne,W,se,G,w,X,Z,oe,P,H,z,me="Instructions",re,ae,ve;function ge(r,I){return r[0]?Ye:Ke}let x=ge(o),L=x(o),C=o[1]&&Ce(),D=o[2]&&De(),E=o[3].nutrition&&Ve(o),y=o[3].extendedIngredients&&Re(o),U=A(o[3].analyzedInstructions),b=[];for(let r=0;r<U.length;r+=1)b[r]=Me(ke(o,U,r));return{c(){e=m("div"),i=m("div"),t=m("div"),l=m("h3"),n=M(s),_=M(" Recipie"),S=F(),u=m("div"),c=m("button"),L.c(),d=F(),C&&C.c(),p=F(),D&&D.c(),ie=F(),q=m("div"),N=m("div"),J=m("h3"),J.textContent=he,ne=F(),E&&E.c(),W=F(),y&&y.c(),se=F(),G=m("div"),w=m("img"),oe=F(),P=m("div"),H=m("div"),z=m("h3"),z.textContent=me,re=F();for(let r=0;r<b.length;r+=1)b[r].c();this.h()},l(r){e=v(r,"DIV",{class:!0});var I=V(e);i=v(I,"DIV",{class:!0});var g=V(i);t=v(g,"DIV",{class:!0});var O=V(t);l=v(O,"H3",{class:!0});var ce=V(l);n=T(ce,s),_=T(ce," Recipie"),ce.forEach(f),S=R(O),u=v(O,"DIV",{class:!0});var j=V(u);c=v(j,"BUTTON",{class:!0});var pe=V(c);L.l(pe),pe.forEach(f),d=R(j),C&&C.l(j),p=R(j),D&&D.l(j),j.forEach(f),O.forEach(f),g.forEach(f),ie=R(I),q=v(I,"DIV",{class:!0});var $=V(q);N=v($,"DIV",{class:!0});var K=V(N);J=v(K,"H3",{"data-svelte-h":!0}),Q(J)!=="svelte-k9mecy"&&(J.textContent=he),ne=R(K),E&&E.l(K),W=R(K),y&&y.l(K),K.forEach(f),se=R($),G=v($,"DIV",{class:!0});var be=V(G);w=v(be,"IMG",{src:!0,alt:!0,class:!0}),be.forEach(f),$.forEach(f),oe=R(I),P=v(I,"DIV",{class:!0});var Ie=V(P);H=v(Ie,"DIV",{class:!0});var ee=V(H);z=v(ee,"H3",{"data-svelte-h":!0}),Q(z)!=="svelte-2qbm11"&&(z.textContent=me),re=R(ee);for(let fe=0;fe<b.length;fe+=1)b[fe].l(ee);ee.forEach(f),Ie.forEach(f),I.forEach(f),this.h()},h(){h(l,"class","display-4"),h(c,"class","image-button"),h(u,"class","button-container"),h(t,"class","col-12 title-button-container"),h(i,"class","row"),h(N,"class","ingredientsList col-md-4"),te(w.src,X=o[3].image)||h(w,"src",X),h(w,"alt",Z=o[3].title),h(w,"class","ingredientsImage custom-rounded"),h(G,"class","ingredientsImage col-md-8"),h(q,"class","row"),h(H,"class","col-12"),h(P,"class","row"),h(e,"class","container")},m(r,I){k(r,e,I),a(e,i),a(i,t),a(t,l),a(l,n),a(l,_),a(t,S),a(t,u),a(u,c),L.m(c,null),a(u,d),C&&C.m(u,null),a(u,p),D&&D.m(u,null),a(e,ie),a(e,q),a(q,N),a(N,J),a(N,ne),E&&E.m(N,null),a(N,W),y&&y.m(N,null),a(q,se),a(q,G),a(G,w),a(e,oe),a(e,P),a(P,H),a(H,z),a(H,re);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(H,null);ae||(ve=Je(c,"click",o[5]),ae=!0)},p(r,I){if(I&8&&s!==(s=r[3].title+"")&&B(n,s),x!==(x=ge(r))&&(L.d(1),L=x(r),L&&(L.c(),L.m(c,null))),r[1]?C||(C=Ce(),C.c(),C.m(u,p)):C&&(C.d(1),C=null),r[2]?D||(D=De(),D.c(),D.m(u,null)):D&&(D.d(1),D=null),r[3].nutrition?E?E.p(r,I):(E=Ve(r),E.c(),E.m(N,W)):E&&(E.d(1),E=null),r[3].extendedIngredients?y?y.p(r,I):(y=Re(r),y.c(),y.m(N,null)):y&&(y.d(1),y=null),I&8&&!te(w.src,X=r[3].image)&&h(w,"src",X),I&8&&Z!==(Z=r[3].title)&&h(w,"alt",Z),I&8){U=A(r[3].analyzedInstructions);let g;for(g=0;g<U.length;g+=1){const O=ke(r,U,g);b[g]?b[g].p(O,I):(b[g]=Me(O),b[g].c(),b[g].m(H,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=U.length}},d(r){r&&f(e),L.d(),C&&C.d(),D&&D.d(),E&&E.d(),y&&y.d(),le(b,r),ae=!1,ve()}}}function Ke(o){let e,i;return{c(){e=m("img"),this.h()},l(t){e=v(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,i="/Eatsy/images/favouriteButton.png")||h(e,"src",i),h(e,"alt","favourite"),h(e,"class","detail-icon")},m(t,l){k(t,e,l)},d(t){t&&f(e)}}}function Ye(o){let e,i;return{c(){e=m("img"),this.h()},l(t){e=v(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,i="/Eatsy/images/favouritedButton.png")||h(e,"src",i),h(e,"alt","favourited"),h(e,"class","detail-icon")},m(t,l){k(t,e,l)},d(t){t&&f(e)}}}function Ce(o){let e,i='Added to favourites <img src="/Eatsy/images/happyIcon.png" alt="smiley face" class="detail-icon"/>';return{c(){e=m("div"),e.innerHTML=i,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-19iq3y2"&&(e.innerHTML=i),this.h()},h(){h(e,"class","popup")},m(t,l){k(t,e,l)},d(t){t&&f(e)}}}function De(o){let e,i='Removed from favourites <img src="/Eatsy/images/sadIcon.png" alt="sad face" class="detail-icon"/>';return{c(){e=m("div"),e.innerHTML=i,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1y1941q"&&(e.innerHTML=i),this.h()},h(){h(e,"class","popup")},m(t,l){k(t,e,l)},d(t){t&&f(e)}}}function Ve(o){let e,i=A(o[3].nutrition.ingredients),t=[];for(let l=0;l<i.length;l+=1)t[l]=Fe(Se(o,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Y()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=Y()},m(l,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(l,s);k(l,e,s)},p(l,s){if(s&8){i=A(l[3].nutrition.ingredients);let n;for(n=0;n<i.length;n+=1){const _=Se(l,i,n);t[n]?t[n].p(_,s):(t[n]=Fe(_),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=i.length}},d(l){l&&f(e),le(t,l)}}}function Fe(o){let e,i=Te(o[12].amount*o[3].servings)+"",t,l,s=o[12].unit+"",n,_,S=o[12].name+"",u,c;return{c(){e=m("li"),t=M(i),l=F(),n=M(s),_=M(" of "),u=M(S),c=F()},l(d){e=v(d,"LI",{});var p=V(e);t=T(p,i),l=R(p),n=T(p,s),_=T(p," of "),u=T(p,S),c=R(p),p.forEach(f)},m(d,p){k(d,e,p),a(e,t),a(e,l),a(e,n),a(e,_),a(e,u),a(e,c)},p(d,p){p&8&&i!==(i=Te(d[12].amount*d[3].servings)+"")&&B(t,i),p&8&&s!==(s=d[12].unit+"")&&B(n,s),p&8&&S!==(S=d[12].name+"")&&B(u,S)},d(d){d&&f(e)}}}function Re(o){let e,i=A(o[3].extendedIngredients),t=[];for(let l=0;l<i.length;l+=1)t[l]=Ne(ye(o,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Y()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=Y()},m(l,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(l,s);k(l,e,s)},p(l,s){if(s&8){i=A(l[3].extendedIngredients);let n;for(n=0;n<i.length;n+=1){const _=ye(l,i,n);t[n]?t[n].p(_,s):(t[n]=Ne(_),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=i.length}},d(l){l&&f(e),le(t,l)}}}function Ne(o){let e,i=o[12].original+"",t;return{c(){e=m("li"),t=M(i)},l(l){e=v(l,"LI",{});var s=V(e);t=T(s,i),s.forEach(f)},m(l,s){k(l,e,s),a(e,t)},p(l,s){s&8&&i!==(i=l[12].original+"")&&B(t,i)},d(l){l&&f(e)}}}function we(o){let e,i=o[9].number+"",t,l,s,n=o[9].step.replace(/\.(?=\S)/g,". ")+"",_,S,u;return{c(){e=m("b"),t=M(i),l=M(":"),s=F(),_=M(n),S=F(),u=m("br")},l(c){e=v(c,"B",{});var d=V(e);t=T(d,i),l=T(d,":"),d.forEach(f),s=R(c),_=T(c,n),S=R(c),u=v(c,"BR",{})},m(c,d){k(c,e,d),a(e,t),a(e,l),k(c,s,d),k(c,_,d),k(c,S,d),k(c,u,d)},p(c,d){d&8&&i!==(i=c[9].number+"")&&B(t,i),d&8&&n!==(n=c[9].step.replace(/\.(?=\S)/g,". ")+"")&&B(_,n)},d(c){c&&(f(e),f(s),f(_),f(S),f(u))}}}function Me(o){let e,i=A(o[6].steps),t=[];for(let l=0;l<i.length;l+=1)t[l]=we(Ee(o,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Y()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=Y()},m(l,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(l,s);k(l,e,s)},p(l,s){if(s&8){i=A(l[6].steps);let n;for(n=0;n<i.length;n+=1){const _=Ee(l,i,n);t[n]?t[n].p(_,s):(t[n]=we(_),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=i.length}},d(l){l&&f(e),le(t,l)}}}function Qe(o){let e;function i(s,n){return s[3]?je:Ue}let t=i(o),l=t(o);return{c(){e=m("main"),l.c()},l(s){e=v(s,"MAIN",{});var n=V(e);l.l(n),n.forEach(f)},m(s,n){k(s,e,n),l.m(e,null)},p(s,[n]){t===(t=i(s))&&l?l.p(s,n):(l.d(1),l=t(s),l&&(l.c(),l.m(e,null)))},i:ue,o:ue,d(s){s&&f(e),l.d()}}}function Te(o){const e=parseFloat(o);return Number.isInteger(e)?e.toString():e.toFixed(1)}function We(o,e,i){let t;const l=Be(null);Ae(o,l,u=>i(3,t=u));let s=!1,n=!1,_=!1;return Oe(()=>{if(typeof window<"u"&&typeof localStorage<"u"){const u=localStorage.getItem("currentRecipie");if(u){const c=JSON.parse(u);l.set(c),i(0,s=ze(c.id))}}}),[s,n,_,t,l,()=>{l.update(u=>(s?(Pe(u.id),i(2,_=!0),setTimeout(()=>i(2,_=!1),2e3)):(Ge(u),i(1,n=!0),setTimeout(()=>i(1,n=!1),2e3)),i(0,s=!s),u))}]}class xe extends He{constructor(e){super(),Le(this,e,We,Qe,qe,{})}}export{xe as default};
