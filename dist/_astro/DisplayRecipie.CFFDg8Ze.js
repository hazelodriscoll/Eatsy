import{S as Te,i as He,s as Le,e as m,c as g,a as M,d as c,b as p,n as fe,f as Ne,o as qe,w as Ae,g as W,t as T,h as R,j as H,k as w,l as d,m as f,p as Be,q as P,r as te,u as Q,v as X}from"./index.D0JLGyvO.js";import{e as A}from"./each.-gASlQSi.js";import{i as Ge,r as Pe,a as ze}from"./favourite.CmckLUa8.js";function be(r,e,i){const t=r.slice();return t[6]=e[i],t}function ke(r,e,i){const t=r.slice();return t[9]=e[i],t}function Ie(r,e,i){const t=r.slice();return t[12]=e[i],t}function Ee(r,e,i){const t=r.slice();return t[12]=e[i],t}function Oe(r){let e,i="Recipe not found.";return{c(){e=m("p"),e.textContent=i},l(t){e=g(t,"P",{"data-svelte-h":!0}),W(e)!=="svelte-1vhb4mb"&&(e.textContent=i)},m(t,l){p(t,e,l)},p:fe,d(t){t&&c(e)}}}function je(r){let e,i,t,l,s=r[3].title+"",n,h,C,u,o,_,b,le,q,F,z,ue="Ingredients",ie,Y,ne,B,se,O,L,j,_e="Instructions",re,ae,de;function he(a,I){return a[0]?Ue:Je}let Z=he(r),N=Z(r),D=r[1]&&ye(),V=r[2]&&Ce(),E=r[3].nutrition&&De(r),y=r[3].extendedIngredients&&Me(r);function me(a,I){return a[3].image?Qe:Ke}let $=me(r),S=$(r),J=A(r[3].analyzedInstructions),k=[];for(let a=0;a<J.length;a+=1)k[a]=Fe(be(r,J,a));return{c(){e=m("div"),i=m("div"),t=m("div"),l=m("h3"),n=T(s),h=T(" Recipie"),C=R(),u=m("div"),o=m("button"),N.c(),_=R(),D&&D.c(),b=R(),V&&V.c(),le=R(),q=m("div"),F=m("div"),z=m("h3"),z.textContent=ue,ie=R(),E&&E.c(),Y=R(),y&&y.c(),ne=R(),B=m("div"),S.c(),se=R(),O=m("div"),L=m("div"),j=m("h3"),j.textContent=_e,re=R();for(let a=0;a<k.length;a+=1)k[a].c();this.h()},l(a){e=g(a,"DIV",{class:!0});var I=M(e);i=g(I,"DIV",{class:!0});var v=M(i);t=g(v,"DIV",{class:!0});var G=M(t);l=g(G,"H3",{class:!0});var ce=M(l);n=H(ce,s),h=H(ce," Recipie"),ce.forEach(c),C=w(G),u=g(G,"DIV",{});var U=M(u);o=g(U,"BUTTON",{class:!0});var ge=M(o);N.l(ge),ge.forEach(c),_=w(U),D&&D.l(U),b=w(U),V&&V.l(U),U.forEach(c),G.forEach(c),v.forEach(c),le=w(I),q=g(I,"DIV",{class:!0});var x=M(q);F=g(x,"DIV",{class:!0});var K=M(F);z=g(K,"H3",{"data-svelte-h":!0}),W(z)!=="svelte-k9mecy"&&(z.textContent=ue),ie=w(K),E&&E.l(K),Y=w(K),y&&y.l(K),K.forEach(c),ne=w(x),B=g(x,"DIV",{class:!0});var ve=M(B);S.l(ve),ve.forEach(c),x.forEach(c),se=w(I),O=g(I,"DIV",{class:!0});var pe=M(O);L=g(pe,"DIV",{class:!0});var ee=M(L);j=g(ee,"H3",{"data-svelte-h":!0}),W(j)!=="svelte-2qbm11"&&(j.textContent=_e),re=w(ee);for(let oe=0;oe<k.length;oe+=1)k[oe].l(ee);ee.forEach(c),pe.forEach(c),I.forEach(c),this.h()},h(){d(l,"class","display-4"),d(o,"class","image-button"),d(t,"class","col-12 title-button-container"),d(i,"class","row"),d(F,"class","ingredientsList col-md-4"),d(B,"class","ingredientsImage col-md-8"),d(q,"class","row"),d(L,"class","col-12"),d(O,"class","row"),d(e,"class","container")},m(a,I){p(a,e,I),f(e,i),f(i,t),f(t,l),f(l,n),f(l,h),f(t,C),f(t,u),f(u,o),N.m(o,null),f(u,_),D&&D.m(u,null),f(u,b),V&&V.m(u,null),f(e,le),f(e,q),f(q,F),f(F,z),f(F,ie),E&&E.m(F,null),f(F,Y),y&&y.m(F,null),f(q,ne),f(q,B),S.m(B,null),f(e,se),f(e,O),f(O,L),f(L,j),f(L,re);for(let v=0;v<k.length;v+=1)k[v]&&k[v].m(L,null);ae||(de=Be(o,"click",r[5]),ae=!0)},p(a,I){if(I&8&&s!==(s=a[3].title+"")&&P(n,s),Z!==(Z=he(a))&&(N.d(1),N=Z(a),N&&(N.c(),N.m(o,null))),a[1]?D||(D=ye(),D.c(),D.m(u,b)):D&&(D.d(1),D=null),a[2]?V||(V=Ce(),V.c(),V.m(u,null)):V&&(V.d(1),V=null),a[3].nutrition?E?E.p(a,I):(E=De(a),E.c(),E.m(F,Y)):E&&(E.d(1),E=null),a[3].extendedIngredients?y?y.p(a,I):(y=Me(a),y.c(),y.m(F,null)):y&&(y.d(1),y=null),$===($=me(a))&&S?S.p(a,I):(S.d(1),S=$(a),S&&(S.c(),S.m(B,null))),I&8){J=A(a[3].analyzedInstructions);let v;for(v=0;v<J.length;v+=1){const G=be(a,J,v);k[v]?k[v].p(G,I):(k[v]=Fe(G),k[v].c(),k[v].m(L,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=J.length}},d(a){a&&c(e),N.d(),D&&D.d(),V&&V.d(),E&&E.d(),y&&y.d(),S.d(),te(k,a),ae=!1,de()}}}function Je(r){let e,i;return{c(){e=m("img"),this.h()},l(t){e=g(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){X(e.src,i="/Eatsy/images/favouriteButton.png")||d(e,"src",i),d(e,"alt","favourite"),d(e,"class","detail-icon")},m(t,l){p(t,e,l)},d(t){t&&c(e)}}}function Ue(r){let e,i;return{c(){e=m("img"),this.h()},l(t){e=g(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){X(e.src,i="/Eatsy/images/favouritedButton.png")||d(e,"src",i),d(e,"alt","favourited"),d(e,"class","detail-icon")},m(t,l){p(t,e,l)},d(t){t&&c(e)}}}function ye(r){let e,i='Added to favourites <img src="/Eatsy/images/happyIcon.png" alt="smiley face" class="detail-icon"/>';return{c(){e=m("div"),e.innerHTML=i,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-19iq3y2"&&(e.innerHTML=i),this.h()},h(){d(e,"class","popup")},m(t,l){p(t,e,l)},d(t){t&&c(e)}}}function Ce(r){let e,i='Removed from favourites <img src="/Eatsy/images/sadIcon.png" alt="sad face" class="detail-icon"/>';return{c(){e=m("div"),e.innerHTML=i,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1y1941q"&&(e.innerHTML=i),this.h()},h(){d(e,"class","popup")},m(t,l){p(t,e,l)},d(t){t&&c(e)}}}function De(r){let e,i=A(r[3].nutrition.ingredients),t=[];for(let l=0;l<i.length;l+=1)t[l]=Ve(Ee(r,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Q()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=Q()},m(l,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(l,s);p(l,e,s)},p(l,s){if(s&8){i=A(l[3].nutrition.ingredients);let n;for(n=0;n<i.length;n+=1){const h=Ee(l,i,n);t[n]?t[n].p(h,s):(t[n]=Ve(h),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=i.length}},d(l){l&&c(e),te(t,l)}}}function Ve(r){let e,i=Se(r[12].amount*r[3].servings)+"",t,l,s=r[12].unit+"",n,h,C=r[12].name+"",u,o;return{c(){e=m("li"),t=T(i),l=R(),n=T(s),h=T(" of "),u=T(C),o=R()},l(_){e=g(_,"LI",{});var b=M(e);t=H(b,i),l=w(b),n=H(b,s),h=H(b," of "),u=H(b,C),o=w(b),b.forEach(c)},m(_,b){p(_,e,b),f(e,t),f(e,l),f(e,n),f(e,h),f(e,u),f(e,o)},p(_,b){b&8&&i!==(i=Se(_[12].amount*_[3].servings)+"")&&P(t,i),b&8&&s!==(s=_[12].unit+"")&&P(n,s),b&8&&C!==(C=_[12].name+"")&&P(u,C)},d(_){_&&c(e)}}}function Me(r){let e,i=A(r[3].extendedIngredients),t=[];for(let l=0;l<i.length;l+=1)t[l]=Re(Ie(r,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Q()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=Q()},m(l,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(l,s);p(l,e,s)},p(l,s){if(s&8){i=A(l[3].extendedIngredients);let n;for(n=0;n<i.length;n+=1){const h=Ie(l,i,n);t[n]?t[n].p(h,s):(t[n]=Re(h),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=i.length}},d(l){l&&c(e),te(t,l)}}}function Re(r){let e,i=r[12].original+"",t;return{c(){e=m("li"),t=T(i)},l(l){e=g(l,"LI",{});var s=M(e);t=H(s,i),s.forEach(c)},m(l,s){p(l,e,s),f(e,t)},p(l,s){s&8&&i!==(i=l[12].original+"")&&P(t,i)},d(l){l&&c(e)}}}function Ke(r){let e,i,t;return{c(){e=m("img"),this.h()},l(l){e=g(l,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){X(e.src,i=Xe)||d(e,"src",i),d(e,"class","ingredientsImage custom-rounded"),d(e,"alt",t=r[3].title)},m(l,s){p(l,e,s)},p(l,s){s&8&&t!==(t=l[3].title)&&d(e,"alt",t)},d(l){l&&c(e)}}}function Qe(r){let e,i,t;return{c(){e=m("img"),this.h()},l(l){e=g(l,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){X(e.src,i=r[3].image)||d(e,"src",i),d(e,"class","ingredientsImage custom-rounded"),d(e,"alt",t=r[3].title)},m(l,s){p(l,e,s)},p(l,s){s&8&&!X(e.src,i=l[3].image)&&d(e,"src",i),s&8&&t!==(t=l[3].title)&&d(e,"alt",t)},d(l){l&&c(e)}}}function we(r){let e,i=r[9].number+"",t,l,s,n=r[9].step.replace(/\.(?=\S)/g,". ")+"",h,C,u;return{c(){e=m("b"),t=T(i),l=T(":"),s=R(),h=T(n),C=R(),u=m("br")},l(o){e=g(o,"B",{});var _=M(e);t=H(_,i),l=H(_,":"),_.forEach(c),s=w(o),h=H(o,n),C=w(o),u=g(o,"BR",{})},m(o,_){p(o,e,_),f(e,t),f(e,l),p(o,s,_),p(o,h,_),p(o,C,_),p(o,u,_)},p(o,_){_&8&&i!==(i=o[9].number+"")&&P(t,i),_&8&&n!==(n=o[9].step.replace(/\.(?=\S)/g,". ")+"")&&P(h,n)},d(o){o&&(c(e),c(s),c(h),c(C),c(u))}}}function Fe(r){let e,i=A(r[6].steps),t=[];for(let l=0;l<i.length;l+=1)t[l]=we(ke(r,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Q()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=Q()},m(l,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(l,s);p(l,e,s)},p(l,s){if(s&8){i=A(l[6].steps);let n;for(n=0;n<i.length;n+=1){const h=ke(l,i,n);t[n]?t[n].p(h,s):(t[n]=we(h),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=i.length}},d(l){l&&c(e),te(t,l)}}}function We(r){let e;function i(s,n){return s[3]?je:Oe}let t=i(r),l=t(r);return{c(){e=m("main"),l.c()},l(s){e=g(s,"MAIN",{});var n=M(e);l.l(n),n.forEach(c)},m(s,n){p(s,e,n),l.m(e,null)},p(s,[n]){t===(t=i(s))&&l?l.p(s,n):(l.d(1),l=t(s),l&&(l.c(),l.m(e,null)))},i:fe,o:fe,d(s){s&&c(e),l.d()}}}const Xe="/Eatsy/images/fallbackImage.png";function Se(r){const e=parseFloat(r);return Number.isInteger(e)?e.toString():e.toFixed(1)}function Ye(r,e,i){let t;const l=Ae(null);Ne(r,l,u=>i(3,t=u));let s=!1,n=!1,h=!1;return qe(()=>{if(typeof window<"u"&&typeof localStorage<"u"){const u=localStorage.getItem("currentRecipie");if(u){const o=JSON.parse(u);l.set(o),i(0,s=Ge(o.id))}}}),[s,n,h,t,l,()=>{l.update(u=>(s?(Pe(u.id),i(2,h=!0),setTimeout(()=>i(2,h=!1),2e3)):(ze(u),i(1,n=!0),setTimeout(()=>i(1,n=!1),2e3)),i(0,s=!s),u))}]}class et extends Te{constructor(e){super(),He(this,e,Ye,We,Le,{})}}export{et as default};
