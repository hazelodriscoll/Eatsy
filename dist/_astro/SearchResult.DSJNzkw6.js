import{S as Ue,i as Ae,s as Me,e as f,a as N,c as h,b as R,f as F,w as se,d as m,h as a,j as oe,k as s,H as Ve,l as K,p as fe,n as Le,m as ie,r as qe,D as re,E as Qe,v as Be,C as ae,t as ne,g as ce,o as Pe,q as je,x as de,y as Oe,z as ze,A as Ge,B as He}from"./index.BXI5Iv19.js";import{e as Ne}from"./each.-gASlQSi.js";import{s as Ke}from"./recipieService.DUCIO3jB.js";import{a as Je}from"./store.C7fbvvZc.js";import We from"./RecipieCard.D9yRkcja.js";async function Xe(r,t=0,c=null){const e={apiKey:"fb571eb0a36b417daee401017d390f99",query:r,addRecipeInstructions:!0,addRecipeNutrition:!0,number:"9",offset:t};c&&(e.diet=c);try{return await Ke(e)}catch(o){throw console.error("Failed to fetch search results:",o),new Error("Failed to fetch search results.")}}function Fe(r,t,c){const e=r.slice();return e[28]=t[c],e}function Ye(r){let t,c,e,o,E,P,O,T,_,k,g,V=Math.ceil(r[6]/ue)+"",S,y,I,U,w,b,M,z,C=Ne(r[5]),d=[];for(let l=0;l<C.length;l+=1)d[l]=Se(Fe(r,C,l));const $=l=>fe(d[l],1,1,()=>{d[l]=null});return{c(){t=f("div");for(let l=0;l<d.length;l+=1)d[l].c();c=N(),e=f("div"),o=f("button"),E=ne("Previous"),O=N(),T=f("span"),_=ne("Page "),k=ne(r[1]),g=ne(" of "),S=ne(V),y=N(),I=f("button"),U=ne("Next"),this.h()},l(l){t=h(l,"DIV",{class:!0});var i=R(t);for(let G=0;G<d.length;G+=1)d[G].l(i);i.forEach(m),c=F(l),e=h(l,"DIV",{class:!0});var u=R(e);o=h(u,"BUTTON",{class:!0});var A=R(o);E=ce(A,"Previous"),A.forEach(m),O=F(u),T=h(u,"SPAN",{});var x=R(T);_=ce(x,"Page "),k=ce(x,r[1]),g=ce(x," of "),S=ce(x,V),x.forEach(m),y=F(u),I=h(u,"BUTTON",{class:!0});var ee=R(I);U=ce(ee,"Next"),ee.forEach(m),u.forEach(m),this.h()},h(){a(t,"class","card-group row row-cols-1 row-cols-md-3 g-4"),a(o,"class","btn btn-primary"),o.disabled=P=r[1]===1,a(I,"class","btn btn-primary"),I.disabled=w=r[1]===Math.ceil(r[6]/ue),a(e,"class","pagination-controls d-flex justify-content-between align-items-center mt-4")},m(l,i){oe(l,t,i);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(t,null);oe(l,c,i),oe(l,e,i),s(e,o),s(o,E),s(e,O),s(e,T),s(T,_),s(T,k),s(T,g),s(T,S),s(e,y),s(e,I),s(I,U),b=!0,M||(z=[K(o,"click",r[16]),K(I,"click",r[15])],M=!0)},p(l,i){if(i&32){C=Ne(l[5]);let u;for(u=0;u<C.length;u+=1){const A=Fe(l,C,u);d[u]?(d[u].p(A,i),ie(d[u],1)):(d[u]=Se(A),d[u].c(),ie(d[u],1),d[u].m(t,null))}for(Be(),u=C.length;u<d.length;u+=1)$(u);Le()}(!b||i&2&&P!==(P=l[1]===1))&&(o.disabled=P),(!b||i&2)&&Pe(k,l[1]),(!b||i&64)&&V!==(V=Math.ceil(l[6]/ue)+"")&&Pe(S,V),(!b||i&66&&w!==(w=l[1]===Math.ceil(l[6]/ue)))&&(I.disabled=w)},i(l){if(!b){for(let i=0;i<C.length;i+=1)ie(d[i]);b=!0}},o(l){d=d.filter(Boolean);for(let i=0;i<d.length;i+=1)fe(d[i]);b=!1},d(l){l&&(m(t),m(c),m(e)),je(d,l),M=!1,qe(z)}}}function Ze(r){let t,c;return{c(){t=f("p"),c=ne(r[4])},l(e){t=h(e,"P",{});var o=R(t);c=ce(o,r[4]),o.forEach(m)},m(e,o){oe(e,t,o),s(t,c)},p(e,o){o&16&&Pe(c,e[4])},i:de,o:de,d(e){e&&m(t)}}}function $e(r){let t,c="Loading...";return{c(){t=f("p"),t.textContent=c},l(e){t=h(e,"P",{"data-svelte-h":!0}),se(t)!=="svelte-qdsr2u"&&(t.textContent=c)},m(e,o){oe(e,t,o)},p:de,i:de,o:de,d(e){e&&m(t)}}}function Se(r){let t,c;return t=new We({props:{recipie:r[28]}}),{c(){Oe(t.$$.fragment)},l(e){ze(t.$$.fragment,e)},m(e,o){Ge(t,e,o),c=!0},p(e,o){const E={};o&32&&(E.recipie=e[28]),t.$set(E)},i(e){c||(ie(t.$$.fragment,e),c=!0)},o(e){fe(t.$$.fragment,e),c=!1},d(e){He(t,e)}}}function et(r){let t,c,e,o,E,P,O="Search",T,_,k,g,V,S,y,I="Vegetarian",U,w,b,M,z,C,d="Pescetarian",$,l,i,u,A,x,ee="Vegan",G,n,p,L,te,J,Ie="Gluten Free",ke,W,Q,he,ye,X,we="Dairy Free",Ce,le,q,B,H,Ee,xe;const De=[$e,Ze,Ye],Y=[];function Re(v,D){return v[3]?0:v[4]?1:2}return q=Re(r),B=Y[q]=De[q](r),{c(){t=f("div"),c=f("form"),e=f("div"),o=f("input"),E=N(),P=f("button"),P.textContent=O,T=N(),_=f("div"),k=f("div"),g=f("input"),S=N(),y=f("label"),y.textContent=I,U=N(),w=f("div"),b=f("input"),z=N(),C=f("label"),C.textContent=d,$=N(),l=f("div"),i=f("input"),A=N(),x=f("label"),x.textContent=ee,G=N(),n=f("div"),p=f("input"),te=N(),J=f("label"),J.textContent=Ie,ke=N(),W=f("div"),Q=f("input"),ye=N(),X=f("label"),X.textContent=we,Ce=N(),le=f("div"),B.c(),this.h()},l(v){t=h(v,"DIV",{class:!0});var D=R(t);c=h(D,"FORM",{class:!0,id:!0});var Z=R(c);e=h(Z,"DIV",{class:!0});var pe=R(e);o=h(pe,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),E=F(pe),P=h(pe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(P)!=="svelte-1fsppor"&&(P.textContent=O),pe.forEach(m),T=F(Z),_=h(Z,"DIV",{id:!0,class:!0});var j=R(_);k=h(j,"DIV",{class:!0});var _e=R(k);g=h(_e,"INPUT",{class:!0,type:!0,id:!0}),S=F(_e),y=h(_e,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),se(y)!=="svelte-1x0trca"&&(y.textContent=I),_e.forEach(m),U=F(j),w=h(j,"DIV",{class:!0});var ve=R(w);b=h(ve,"INPUT",{class:!0,type:!0,id:!0}),z=F(ve),C=h(ve,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),se(C)!=="svelte-1aslwyo"&&(C.textContent=d),ve.forEach(m),$=F(j),l=h(j,"DIV",{class:!0});var me=R(l);i=h(me,"INPUT",{class:!0,type:!0,id:!0}),A=F(me),x=h(me,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),se(x)!=="svelte-1lmcfn8"&&(x.textContent=ee),me.forEach(m),G=F(j),n=h(j,"DIV",{class:!0});var be=R(n);p=h(be,"INPUT",{class:!0,type:!0,id:!0}),te=F(be),J=h(be,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),se(J)!=="svelte-1uqssi8"&&(J.textContent=Ie),be.forEach(m),ke=F(j),W=h(j,"DIV",{class:!0});var ge=R(W);Q=h(ge,"INPUT",{class:!0,type:!0,id:!0}),ye=F(ge),X=h(ge,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),se(X)!=="svelte-w0ymo"&&(X.textContent=we),ge.forEach(m),j.forEach(m),Z.forEach(m),Ce=F(D),le=h(D,"DIV",{class:!0});var Te=R(le);B.l(Te),Te.forEach(m),D.forEach(m),this.h()},h(){a(o,"class","form-control me-2"),a(o,"type","text"),a(o,"id","searchQuery"),a(o,"placeholder","Search recipes..."),a(P,"class","btn btn-primary"),a(P,"type","submit"),a(e,"class","d-flex mb-3 w-100"),a(g,"class","form-check-input"),a(g,"type","checkbox"),a(g,"id","vegetarianCheckbox"),g.value="vegetarian",g.checked=V=r[0].includes("vegetarian"),a(y,"class","form-check-label"),a(y,"for","vegetarianCheckbox"),a(k,"class","form-check form-check-inline"),a(b,"class","form-check-input"),a(b,"type","checkbox"),a(b,"id","pescetarianCheckbox"),b.value="pescetarian",b.checked=M=r[0].includes("pescetarian"),a(C,"class","form-check-label"),a(C,"for","pescetarianCheckbox"),a(w,"class","form-check form-check-inline"),a(i,"class","form-check-input"),a(i,"type","checkbox"),a(i,"id","veganCheckbox"),i.value="vegan",i.checked=u=r[0].includes("vegan"),a(x,"class","form-check-label"),a(x,"for","veganCheckbox"),a(l,"class","form-check form-check-inline"),a(p,"class","form-check-input"),a(p,"type","checkbox"),a(p,"id","glutenFreeCheckbox"),p.value="gluten free",p.checked=L=r[0].includes("gluten free"),a(J,"class","form-check-label"),a(J,"for","glutenFreeCheckbox"),a(n,"class","form-check form-check-inline"),a(Q,"class","form-check-input"),a(Q,"type","checkbox"),a(Q,"id","dairyFreeCheckbox"),Q.value="dairy free",Q.checked=he=r[0].includes("dairy free"),a(X,"class","form-check-label"),a(X,"for","dairyFreeCheckbox"),a(W,"class","form-check form-check-inline"),a(_,"id","dietFilter"),a(_,"class","d-flex flex-wrap justify-content-start"),a(c,"class","d-flex flex-column align-items-end"),a(c,"id","searchForm"),a(le,"class","container"),a(t,"class","container-fluid container-background")},m(v,D){oe(v,t,D),s(t,c),s(c,e),s(e,o),Ve(o,r[2]),s(e,E),s(e,P),s(c,T),s(c,_),s(_,k),s(k,g),s(k,S),s(k,y),s(_,U),s(_,w),s(w,b),s(w,z),s(w,C),s(_,$),s(_,l),s(l,i),s(l,A),s(l,x),s(_,G),s(_,n),s(n,p),s(n,te),s(n,J),s(_,ke),s(_,W),s(W,Q),s(W,ye),s(W,X),s(t,Ce),s(t,le),Y[q].m(le,null),H=!0,Ee||(xe=[K(o,"input",r[18]),K(g,"change",r[19]),K(b,"change",r[20]),K(i,"change",r[21]),K(p,"change",r[22]),K(Q,"change",r[23]),K(c,"submit",r[14])],Ee=!0)},p(v,[D]){D&4&&o.value!==v[2]&&Ve(o,v[2]),(!H||D&1&&V!==(V=v[0].includes("vegetarian")))&&(g.checked=V),(!H||D&1&&M!==(M=v[0].includes("pescetarian")))&&(b.checked=M),(!H||D&1&&u!==(u=v[0].includes("vegan")))&&(i.checked=u),(!H||D&1&&L!==(L=v[0].includes("gluten free")))&&(p.checked=L),(!H||D&1&&he!==(he=v[0].includes("dairy free")))&&(Q.checked=he);let Z=q;q=Re(v),q===Z?Y[q].p(v,D):(Be(),fe(Y[Z],1,1,()=>{Y[Z]=null}),Le(),B=Y[q],B?B.p(v,D):(B=Y[q]=De[q](v),B.c()),ie(B,1),B.m(le,null))},i(v){H||(ie(B),H=!0)},o(v){fe(B),H=!1},d(v){v&&m(t),Y[q].d(),Ee=!1,qe(xe)}}}const ue=9;function tt(r,t,c){let e,o,E,P,O,T,_,k=ae([]);re(r,k,n=>c(5,T=n));let g=ae("");re(r,g,n=>c(2,E=n));let V=ae(!1);re(r,V,n=>c(3,P=n));let S=ae("");re(r,S,n=>c(4,O=n));let y=ae(1);re(r,y,n=>c(1,o=n));let I=ae(0);re(r,I,n=>c(6,_=n));let U=ae([]);re(r,U,n=>c(0,e=n));let w;const b=M(z,1e3);function M(n,p){return function(...L){clearTimeout(w),w=setTimeout(()=>n.apply(this,L),p)}}Qe(async()=>{if(typeof window<"u"&&typeof localStorage<"u"){console.log("Running in the browser");const n=localStorage.getItem("searchQuery");console.log("Stored query:",n),n&&g.set(n)}});async function z(n,p,L){V.set(!0),S.set("");try{const te=await Xe(n,p,L);k.set(te.results),I.set(te.totalResults)}catch{S.set("Failed to fetch search results."),k.set([])}finally{V.set(!1)}}function C(n){n.preventDefault();const p=n.target.querySelector("#searchQuery").value;if(p){Je.set(p),localStorage.setItem("searchQuery",p);const L=e.join(",");z(p,0,L),y.set(1)}}function d(){y.update(n=>n+1)}function $(){y.update(n=>n>1?n-1:n)}function l(n){U.update(p=>p.includes(n)?p.filter(L=>L!==n):[...p,n])}function i(){E=this.value,g.set(E)}const u=()=>l("vegetarian"),A=()=>l("pescetarian"),x=()=>l("vegan"),ee=()=>l("gluten free"),G=()=>l("dairy free");return r.$$.update=()=>{r.$$.dirty&7&&E&&b(E,(o-1)*ue,e)},[e,o,E,P,O,T,_,k,g,V,S,y,I,U,C,d,$,l,i,u,A,x,ee,G]}class ct extends Ue{constructor(t){super(),Ae(this,t,tt,et,Me,{})}}export{ct as default};
