import{S as Le,i as Me,s as Pe,b as _,h as E,t as A,f as v,j as w,d as g,l as R,k as G,g as K,p as z,m as f,a as q,q as u,v as Ue,r as O,n as ke,e as Ce,w as P,x as J,y as $e,c as te,o as Te,z as Qe,u as Ae,A as Ge,B as He,C as Be,D as je}from"./index.B9LIzVyG.js";import{e as Ie,w as se}from"./index.scphXcbb.js";import{s as ze,a as Oe}from"./store.D_DywuaF.js";function Ke(l){return new URLSearchParams(l).toString()}async function Je(l){const e="https://api.spoonacular.com/recipes/complexSearch",i=Ke(l),t=`${e}?${i}`;console.log("Full URL:",t);try{const s=await fetch(t);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const m=await s.json();return console.log("Fetched data:",m),m}catch(s){return console.error("Error fetching recipes:",s),null}}async function We(l){const e={apiKey:"fb571eb0a36b417daee401017d390f99",query:l,addRecipeInstructions:!0,addRecipeNutrition:!0,number:1};try{return(await Je(e)).results}catch(i){throw console.error("Failed to fetch search results:",i),new Error("Failed to fetch search results.")}}function Xe(l){let e,i,t,s,m,a,o,n,b=l[0].title+"",h,p,c,r,d,me,re,U,H=l[0].time+"",W,le,ae,k,V,pe,ie,F,_e="Servings:",ne,$,B=l[0].servings+"",X,ce,C,L,ve,oe,M,ge="Recipe by:",ue,I,j=l[0].sourceName+"",Y,Z,fe,N,be="View Full Recipie",de,ye;return{c(){e=_("div"),i=_("div"),t=_("img"),a=E(),o=_("div"),n=_("h5"),h=A(b),p=E(),c=_("div"),r=_("div"),d=_("img"),re=E(),U=_("span"),W=A(H),le=A(" mins"),ae=E(),k=_("div"),V=_("img"),ie=E(),F=_("span"),F.textContent=_e,ne=E(),$=_("span"),X=A(B),ce=E(),C=_("div"),L=_("img"),oe=E(),M=_("span"),M.textContent=ge,ue=E(),I=_("a"),Y=A(j),fe=E(),N=_("button"),N.textContent=be,this.h()},l(S){e=v(S,"DIV",{class:!0});var y=w(e);i=v(y,"DIV",{class:!0});var Se=w(i);t=v(Se,"IMG",{src:!0,class:!0,alt:!0}),Se.forEach(g),a=R(y),o=v(y,"DIV",{class:!0});var x=w(o);n=v(x,"H5",{class:!0});var we=w(n);h=G(we,b),we.forEach(g),p=R(x),c=v(x,"DIV",{class:!0});var D=w(c);r=v(D,"DIV",{class:!0});var ee=w(r);d=v(ee,"IMG",{src:!0,alt:!0,class:!0}),re=R(ee),U=v(ee,"SPAN",{});var he=w(U);W=G(he,H),le=G(he," mins"),he.forEach(g),ee.forEach(g),ae=R(D),k=v(D,"DIV",{class:!0});var Q=w(k);V=v(Q,"IMG",{src:!0,alt:!0,class:!0}),ie=R(Q),F=v(Q,"SPAN",{class:!0,"data-svelte-h":!0}),K(F)!=="svelte-1bdf15t"&&(F.textContent=_e),ne=R(Q),$=v(Q,"SPAN",{class:!0});var Ee=w($);X=G(Ee,B),Ee.forEach(g),Q.forEach(g),ce=R(D),C=v(D,"DIV",{class:!0});var T=w(C);L=v(T,"IMG",{src:!0,alt:!0,class:!0}),oe=R(T),M=v(T,"SPAN",{class:!0,"data-svelte-h":!0}),K(M)!=="svelte-1m28vzp"&&(M.textContent=ge),ue=R(T),I=v(T,"A",{href:!0,target:!0,class:!0});var Re=w(I);Y=G(Re,j),Re.forEach(g),T.forEach(g),fe=R(D),N=v(D,"BUTTON",{class:!0,"data-svelte-h":!0}),K(N)!=="svelte-15fnxty"&&(N.textContent=be),D.forEach(g),x.forEach(g),y.forEach(g),this.h()},h(){z(t.src,s=l[0].image)||f(t,"src",s),f(t,"class","img-fluid sr-custom-rounded sr-card-img-top"),f(t,"alt",m=l[0].title),f(i,"class","sr-card-image"),f(n,"class","sr-card-title"),z(d.src,me="/Eatsy/images/time-icon.png")||f(d,"src",me),f(d,"alt","Time"),f(d,"class","sr-detail-icon"),f(r,"class","sr-detail-item"),z(V.src,pe="/Eatsy/images/servings-icon.png")||f(V,"src",pe),f(V,"alt","Servings"),f(V,"class","sr-detail-icon"),f(F,"class","sr-detail-name"),f($,"class","sr-detail-info"),f(k,"class","sr-detail-item"),z(L.src,ve="/Eatsy/images/recipie-by-icon.png")||f(L,"src",ve),f(L,"alt","Recipe by"),f(L,"class","sr-detail-icon"),f(M,"class","sr-detail-name"),f(I,"href",Z=l[0].spoonacularSourceUrl),f(I,"target","_blank"),f(I,"class","sr-detail-info"),f(C,"class","sr-detail-item"),f(N,"class","btn btn-primary"),f(c,"class","sr-recipe-details"),f(o,"class","sr-card-body"),f(e,"class","sr-card")},m(S,y){q(S,e,y),u(e,i),u(i,t),u(e,a),u(e,o),u(o,n),u(n,h),u(o,p),u(o,c),u(c,r),u(r,d),u(r,re),u(r,U),u(U,W),u(U,le),u(c,ae),u(c,k),u(k,V),u(k,ie),u(k,F),u(k,ne),u(k,$),u($,X),u(c,ce),u(c,C),u(C,L),u(C,oe),u(C,M),u(C,ue),u(C,I),u(I,Y),u(c,fe),u(c,N),de||(ye=Ue(N,"click",l[2]),de=!0)},p(S,[y]){y&1&&!z(t.src,s=S[0].image)&&f(t,"src",s),y&1&&m!==(m=S[0].title)&&f(t,"alt",m),y&1&&b!==(b=S[0].title+"")&&O(h,b),y&1&&H!==(H=S[0].time+"")&&O(W,H),y&1&&B!==(B=S[0].servings+"")&&O(X,B),y&1&&j!==(j=S[0].sourceName+"")&&O(Y,j),y&1&&Z!==(Z=S[0].spoonacularSourceUrl)&&f(I,"href",Z)},i:ke,o:ke,d(S){S&&g(e),de=!1,ye()}}}function Ye(l,e,i){let{recipie:t}=e;const s=a=>{ze(a),window.location.href="/Eatsy/instructions"},m=()=>s(t);return l.$$set=a=>{"recipie"in a&&i(0,t=a.recipie)},[t,s,m]}class Ze extends Le{constructor(e){super(),Me(this,e,Ye,Xe,Pe,{recipie:0})}}function qe(l,e,i){const t=l.slice();return t[10]=e[i],t}function Ne(l){let e,i="Loading...";return{c(){e=_("p"),e.textContent=i},l(t){e=v(t,"P",{"data-svelte-h":!0}),K(e)!=="svelte-qdsr2u"&&(e.textContent=i)},m(t,s){q(t,e,s)},d(t){t&&g(e)}}}function De(l){let e,i;return{c(){e=_("p"),i=A(l[1])},l(t){e=v(t,"P",{});var s=w(e);i=G(s,l[1]),s.forEach(g)},m(t,s){q(t,e,s),u(e,i)},p(t,s){s&2&&O(i,t[1])},d(t){t&&g(e)}}}function Ve(l){let e,i,t=Ie(l[2]),s=[];for(let a=0;a<t.length;a+=1)s[a]=Fe(qe(l,t,a));const m=a=>J(s[a],1,1,()=>{s[a]=null});return{c(){e=_("ul");for(let a=0;a<s.length;a+=1)s[a].c()},l(a){e=v(a,"UL",{});var o=w(e);for(let n=0;n<s.length;n+=1)s[n].l(o);o.forEach(g)},m(a,o){q(a,e,o);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(e,null);i=!0},p(a,o){if(o&4){t=Ie(a[2]);let n;for(n=0;n<t.length;n+=1){const b=qe(a,t,n);s[n]?(s[n].p(b,o),P(s[n],1)):(s[n]=Fe(b),s[n].c(),P(s[n],1),s[n].m(e,null))}for(Qe(),n=t.length;n<s.length;n+=1)m(n);$e()}},i(a){if(!i){for(let o=0;o<t.length;o+=1)P(s[o]);i=!0}},o(a){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)J(s[o]);i=!1},d(a){a&&g(e),Ae(s,a)}}}function Fe(l){let e,i;return e=new Ze({props:{recipie:l[10]}}),{c(){Ge(e.$$.fragment)},l(t){He(e.$$.fragment,t)},m(t,s){Be(e,t,s),i=!0},p(t,s){const m={};s&4&&(m.recipie=t[10]),e.$set(m)},i(t){i||(P(e.$$.fragment,t),i=!0)},o(t){J(e.$$.fragment,t),i=!1},d(t){je(e,t)}}}function xe(l){let e,i='<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" id="searchQuery"/> <button class="btn btn-outline-success" type="submit">Search</button>',t,s,m,a,o,n,b,h=l[0]&&Ne(),p=l[1]&&De(l),c=l[2].length>0&&Ve(l);return{c(){e=_("form"),e.innerHTML=i,t=E(),h&&h.c(),s=E(),p&&p.c(),m=E(),c&&c.c(),a=Ce(),this.h()},l(r){e=v(r,"FORM",{class:!0,id:!0,"data-svelte-h":!0}),K(e)!=="svelte-p9w49c"&&(e.innerHTML=i),t=R(r),h&&h.l(r),s=R(r),p&&p.l(r),m=R(r),c&&c.l(r),a=Ce(),this.h()},h(){f(e,"class","d-flex"),f(e,"id","searchForm")},m(r,d){q(r,e,d),q(r,t,d),h&&h.m(r,d),q(r,s,d),p&&p.m(r,d),q(r,m,d),c&&c.m(r,d),q(r,a,d),o=!0,n||(b=Ue(e,"submit",l[7]),n=!0)},p(r,[d]){r[0]?h||(h=Ne(),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null),r[1]?p?p.p(r,d):(p=De(r),p.c(),p.m(m.parentNode,m)):p&&(p.d(1),p=null),r[2].length>0?c?(c.p(r,d),d&4&&P(c,1)):(c=Ve(r),c.c(),P(c,1),c.m(a.parentNode,a)):c&&(Qe(),J(c,1,1,()=>{c=null}),$e())},i(r){o||(P(c),o=!0)},o(r){J(c),o=!1},d(r){r&&(g(e),g(t),g(s),g(m),g(a)),h&&h.d(r),p&&p.d(r),c&&c.d(r),n=!1,b()}}}function et(l,e,i){let t,s,m,a,o=se([]);te(l,o,r=>i(2,a=r));let n=se("");te(l,n,r=>i(8,t=r));let b=se(!1);te(l,b,r=>i(0,s=r));let h=se("");te(l,h,r=>i(1,m=r)),Te(async()=>{if(typeof window<"u"&&typeof localStorage<"u"){console.log("Running in the browser");const r=localStorage.getItem("searchQuery");console.log("Stored query:",r),r&&n.set(r)}});async function p(r){b.set(!0),h.set("");try{const d=await We(r);o.set(d)}catch{h.set("Failed to fetch search results."),o.set([])}finally{b.set(!1)}}function c(r){r.preventDefault();const d=r.target.querySelector("#searchQuery").value;d&&(Oe.set(d),localStorage.setItem("searchQuery",d),p(d))}return l.$$.update=()=>{l.$$.dirty&256&&t&&p(t)},[s,m,a,o,n,b,h,c,t]}class lt extends Le{constructor(e){super(),Me(this,e,et,xe,Pe,{})}}export{lt as default};
